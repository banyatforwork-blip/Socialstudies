<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ | ‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô...</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Anuphan:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Anuphan', 'sans-serif'] },
                    animation: {
                        'float': 'float 5s ease-in-out infinite',
                        'fade-up': 'fadeUp 0.6s ease-out forwards',
                        'pulse-bg': 'pulseBg 8s ease-in-out infinite',
                    },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
                        fadeUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        pulseBg: { '0%, 100%': { opacity: '0.4' }, '50%': { opacity: '0.7' } }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background: linear-gradient(135deg, #eff6ff 0%, #faf5ff 100%);
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.05);
        }
        .student-pill {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.2);
            transition: all 0.3s ease;
        }
        .student-pill:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.1);
        }
        .btn-primary {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-primary:active { transform: scale(0.96); }
    </style>
</head>
<body class="p-4 md:p-8 flex flex-col items-center">

    <!-- Aesthetic Background Elements -->
    <div class="fixed top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-200 rounded-full blur-[120px] animate-pulse-bg -z-10"></div>
    <div class="fixed bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-200 rounded-full blur-[120px] animate-pulse-bg -z-10" style="animation-delay: 2s"></div>

    <div id="app" class="w-full max-w-3xl">
        <!-- HEADER -->
        <header class="mb-8 text-left animate-fade-up">
            <div class="inline-flex items-center gap-2 bg-indigo-600 text-white text-[11px] font-black px-3 py-1 rounded-full mb-4 shadow-lg shadow-indigo-200 uppercase tracking-widest">
                <span class="animate-pulse">‚óè</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏°.1/12
            </div>
            <h1 class="text-4xl md:text-5xl font-black text-slate-900 leading-tight tracking-tight">
                ‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô... <span class="text-indigo-600">‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏™‡∏°‡∏°‡∏ï‡∏¥</span>
            </h1>
            <p class="text-slate-500 mt-2 text-lg font-medium">‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ</p>
        </header>

        <main id="content-area" class="animate-fade-up" style="animation-delay: 0.2s">
            <!-- Dynamic Content -->
        </main>

        <!-- FOOTER: Credits -->
        <footer class="mt-16 w-full animate-fade-up" style="animation-delay: 0.4s">
            <div class="h-[1px] w-full bg-gradient-to-r from-transparent via-slate-200 to-transparent mb-8"></div>
            <h3 class="text-center text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-6">‡∏Ñ‡∏ì‡∏∞‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô</h3>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 max-w-2xl mx-auto">
                <div class="student-pill rounded-2xl p-4 flex items-center gap-4">
                    <div class="w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center font-bold text-indigo-600 shadow-sm">1</div>
                    <div>
                        <p class="text-[10px] text-slate-400 font-bold uppercase">‡∏Å‡∏≠‡∏ö‡πÇ‡∏ä‡∏Ñ ‡∏Ñ‡∏á‡πÄ‡∏ó‡∏û</p>
                        <p class="text-sm font-bold text-slate-700">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 1</p>
                    </div>
                </div>
                <div class="student-pill rounded-2xl p-4 flex items-center gap-4">
                    <div class="w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center font-bold text-indigo-600 shadow-sm">2</div>
                    <div>
                        <p class="text-[10px] text-slate-400 font-bold uppercase">‡∏ì‡∏±‡∏ê‡∏Å‡∏£‡∏ì‡πå ‡πÅ‡∏™‡∏á‡∏£‡∏≠‡∏î</p>
                        <p class="text-sm font-bold text-slate-700">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 5</p>
                    </div>
                </div>
                <div class="student-pill rounded-2xl p-4 flex items-center gap-4">
                    <div class="w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center font-bold text-indigo-600 shadow-sm">3</div>
                    <div>
                        <p class="text-[10px] text-slate-400 font-bold uppercase">‡∏ò‡∏ô‡∏ö‡∏î‡∏¥‡∏ô‡∏ó‡∏£‡πå ‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏ò‡∏ô‡∏≤‡∏£‡∏±‡∏Å‡∏©‡πå</p>
                        <p class="text-sm font-bold text-slate-700">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 6</p>
                    </div>
                </div>
                <div class="student-pill rounded-2xl p-4 flex items-center gap-4">
                    <div class="w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center font-bold text-indigo-600 shadow-sm">4</div>
                    <div>
                        <p class="text-[10px] text-slate-400 font-bold uppercase">‡∏ô‡πâ‡∏≥‡∏ü‡πâ‡∏≤ ‡∏û‡∏•‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì</p>
                        <p class="text-sm font-bold text-slate-700">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 21</p>
                    </div>
                </div>
            </div>
            <p class="text-center text-[10px] text-slate-400 mt-10 font-medium">¬© 2024 ‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1 ‡∏´‡πâ‡∏≠‡∏á 12 | ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ</p>
        </footer>
    </div>

    <script>
        // Expanded Data Pools (10 Roles, 8 Scenarios)
        const ROLE_POOL = [
            { id: 1, title: '‡∏Ñ‡∏ô‡∏û‡∏¥‡∏Å‡∏≤‡∏£ (‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô)', income: '800 ‡∏ö‡∏≤‡∏ó (‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏¢‡∏±‡∏á‡∏ä‡∏µ‡∏û)', details: ['‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡∏¢‡∏≤‡∏Å‡πÅ‡∏°‡πâ‡∏à‡∏ö‡∏™‡∏π‡∏á', '‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏ö‡πà‡∏≠‡∏¢'], icon: '‚ôø', theme: 'indigo' },
            { id: 2, title: '‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏£‡∏≤‡∏¢‡∏¢‡πà‡∏≠‡∏¢', income: '‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô', details: ['‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏∏‡πã‡∏¢‡πÅ‡∏û‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ', '‡∏•‡∏∏‡πâ‡∏ô‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏ï‡∏≤‡∏°‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•'], icon: 'üåæ', theme: 'green' },
            { id: 3, title: '‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏û‡∏≤‡∏£‡πå‡∏ó‡πÑ‡∏ó‡∏°‡πå', income: '3,500 ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô', details: ['‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß'], icon: 'üéí', theme: 'orange' },
            { id: 4, title: '‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß', income: '12,000 ‡∏ö‡∏≤‡∏ó', details: ['‡∏î‡∏π‡πÅ‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß 24 ‡∏ä‡∏°.', '‡∏ñ‡πâ‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡∏Ñ‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏´‡∏¢‡∏∏‡∏î'], icon: 'üë©‚Äçüëß', theme: 'pink' },
            { id: 5, title: '‡∏û‡∏µ‡πà‡πÑ‡∏£‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£', income: '‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö‡∏ß‡∏¥‡πà‡∏á', details: ['‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ', '‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∏‡πà‡∏á‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô'], icon: 'üõµ', theme: 'yellow' },
            { id: 6, title: '‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß', income: '600 ‡∏ö‡∏≤‡∏ó (‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ä‡∏£‡∏≤)', details: ['‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÑ‡∏°‡πà‡∏î‡∏µ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß', '‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ê'], icon: 'üëµ', theme: 'slate' },
            { id: 7, title: '‡∏ö‡∏±‡∏ì‡∏ë‡∏¥‡∏ï‡∏à‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏Å‡∏á‡∏≤‡∏ô', income: '0 ‡∏ö‡∏≤‡∏ó (‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß)', details: ['‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô 20 ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ', '‡∏°‡∏µ‡∏´‡∏ô‡∏µ‡πâ ‡∏Å‡∏¢‡∏®. ‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà'], icon: 'üéì', theme: 'blue' },
            { id: 8, title: '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô', income: '‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ + OT', details: ['‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 12 ‡∏ä‡∏°.', '‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏ó‡∏£‡∏°'], icon: 'üè≠', theme: 'gray' },
            { id: 9, title: '‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î', income: '‡∏Å‡∏≥‡πÑ‡∏£‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô)', details: ['‡∏ù‡∏ô‡∏ï‡∏Å = ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô', '‡πÇ‡∏î‡∏ô‡πÑ‡∏•‡πà‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á'], icon: 'üß∫', theme: 'amber' },
            { id: 10, title: '‡∏ß‡∏¥‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ã‡∏Ñ‡πå', income: '‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 400 ‡∏ö‡∏≤‡∏ó/‡∏ß‡∏±‡∏ô', details: ['‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á‡πÅ‡∏≠‡∏õ‡∏Ø ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏£‡∏ñ', '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•'], icon: 'üèçÔ∏è', theme: 'orange' }
        ];

        const SCENARIO_POOL = [
            { title: '‡πÅ‡∏Å‡πä‡∏á‡∏Ñ‡∏≠‡∏•‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå!', icon: 'üìû', desc: '‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡πâ‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏´‡∏•‡∏≠‡∏Å‡πÇ‡∏≠‡∏ô‡πÑ‡∏õ‡∏à‡∏ô‡πÄ‡∏Å‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ' },
            { title: '‡∏¢‡∏≤‡∏ô‡∏û‡∏≤‡∏´‡∏ô‡∏∞‡∏û‡∏±‡∏á‡∏´‡∏ô‡∏±‡∏Å!', icon: 'üõ†Ô∏è', desc: '‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏î‡πà‡∏ß‡∏ô 3,000 ‡∏ö‡∏≤‡∏ó ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏°‡∏≤‡∏´‡∏≤‡∏Å‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ' },
            { title: '‡∏ô‡πâ‡∏≥‡∏ó‡πà‡∏ß‡∏°‡∏â‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏ô!', icon: 'üåßÔ∏è', desc: '‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏¢‡∏∏‡∏î‡∏á‡∏≤‡∏ô 5 ‡∏ß‡∏±‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡∏≤‡∏î‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ' },
            { title: '‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏á‡∏Ç‡∏∂‡πâ‡∏ô 2 ‡πÄ‡∏ó‡πà‡∏≤!', icon: 'ü•ö', desc: '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏û‡∏∏‡πà‡∏á‡∏™‡∏π‡∏á‡∏à‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß' },
            { title: '‡πÄ‡∏à‡πá‡∏ö‡∏õ‡πà‡∏ß‡∏¢‡∏Å‡∏∞‡∏ó‡∏±‡∏ô‡∏´‡∏±‡∏ô!', icon: 'üè•', desc: '‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏î‡πà‡∏ß‡∏ô ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏¢‡∏≤‡∏ô‡∏≠‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏≠‡∏á' },
            { title: '‡πÇ‡∏î‡∏ô‡πÑ‡∏•‡πà‡∏ó‡∏µ‡πà/‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡πà‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô!', icon: 'üè†', desc: '‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡πà‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô 20% ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏¢‡πâ‡∏≤‡∏¢‡∏≠‡∏≠‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô' },
            { title: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥‡∏Å‡∏¥‡∏ô‡∏û‡∏±‡∏á!', icon: 'üíª', desc: '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏Ñ‡∏≠‡∏°/‡πÄ‡∏ï‡∏≤/‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô) ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ' },
            { title: '‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏û‡∏∏‡πà‡∏á‡∏û‡∏£‡∏ß‡∏î!', icon: '‚ö°', desc: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏±‡∏î ‡∏ö‡∏¥‡∏•‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏û‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ 3 ‡πÄ‡∏ó‡πà‡∏≤' }
        ];

        let state = { playerCount: 1, activeRoles: [], scenarios: [], currentRound: 0 };
        const appContainer = document.getElementById('content-area');

        function renderSetup() {
            appContainer.innerHTML = `
                <div class="glass rounded-[2.5rem] p-8 md:p-12">
                    <!-- Subtle Rules Section -->
                    <div class="mb-10 text-center">
                        <div class="inline-block bg-white/50 px-6 py-4 rounded-2xl border border-white/60">
                            <h4 class="text-indigo-600 font-bold text-xs mb-2 uppercase tracking-widest">‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô (Rules)</h4>
                            <ul class="text-slate-600 text-sm space-y-1 text-left list-disc pl-4 font-medium">
                                <li>‡∏™‡∏∏‡πà‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö "‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ" ‡πÅ‡∏•‡∏∞ "‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î"</li>
                                <li>‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ß‡∏¥‡∏Å‡∏§‡∏ï 3 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</li>
                                <li>‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mb-10 text-center">
                        <label class="block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6">‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°</label>
                        <div class="flex items-center justify-center gap-8">
                            <button onclick="changePlayers(-1)" class="w-14 h-14 glass rounded-2xl flex items-center justify-center text-2xl font-bold hover:bg-white transition-all active:scale-90 shadow-sm">-</button>
                            <span id="p-count" class="text-5xl font-black text-indigo-600 animate-float">${state.playerCount}</span>
                            <button onclick="changePlayers(1)" class="w-14 h-14 glass rounded-2xl flex items-center justify-center text-2xl font-bold hover:bg-white transition-all active:scale-90 shadow-sm">+</button>
                        </div>
                    </div>

                    <button onclick="startGame()" class="btn-primary w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-2xl shadow-xl shadow-indigo-100 transform transition-all active:scale-95 text-xl">
                        ‡∏™‡∏∏‡πà‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï üöÄ
                    </button>
                </div>
            `;
        }

        function changePlayers(v) {
            state.playerCount = Math.max(1, Math.min(ROLE_POOL.length, state.playerCount + v));
            document.getElementById('p-count').innerText = state.playerCount;
        }

        function startGame() {
            state.activeRoles = [...ROLE_POOL].sort(() => Math.random() - 0.5).slice(0, state.playerCount);
            state.scenarios = [...SCENARIO_POOL].sort(() => Math.random() - 0.5).slice(0, 3);
            state.currentRound = 0;
            renderRoles();
        }

        function renderRoles() {
            let rolesHTML = state.activeRoles.map((r, i) => `
                <div class="glass rounded-3xl p-6 border-l-8 border-indigo-500">
                    <div class="flex items-center gap-4 mb-4">
                        <div class="text-4xl animate-float" style="animation-delay: ${i*0.2}s">${r.icon}</div>
                        <div>
                            <p class="text-[10px] text-slate-400 font-bold uppercase">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà ${i+1}</p>
                            <h3 class="font-black text-xl text-slate-800">${r.title}</h3>
                        </div>
                    </div>
                    <div class="bg-indigo-50/50 rounded-2xl p-4 mb-4">
                        <p class="text-[10px] font-black text-indigo-400 uppercase mb-1">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</p>
                        <p class="text-lg font-black text-indigo-700">${r.income}</p>
                    </div>
                    <ul class="text-sm text-slate-500 space-y-1">
                        ${r.details.map(d => `<li>‚Ä¢ ${d}</li>`).join('')}
                    </ul>
                </div>
            `).join('');

            appContainer.innerHTML = `
                <div class="space-y-4">
                    <div class="text-center mb-8">
                        <h2 class="text-2xl font-black text-slate-800">‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${rolesHTML}
                    </div>
                    <button onclick="renderScenario()" class="btn-primary w-full bg-slate-900 text-white font-black py-5 rounded-2xl mt-8 shadow-2xl transform active:scale-95">
                        ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå ‚ö°
                    </button>
                </div>
            `;
            window.scrollTo(0,0);
        }

        function renderScenario() {
            if(state.currentRound >= 3) { renderFinish(); return; }
            const s = state.scenarios[state.currentRound];
            appContainer.innerHTML = `
                <div class="glass rounded-[3rem] p-8 md:p-12 text-center animate-fade-up">
                    <div class="inline-block px-4 py-1 rounded-full bg-indigo-50 text-indigo-600 text-[10px] font-black uppercase tracking-widest mb-10">
                        ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà ${state.currentRound+1} ‡∏à‡∏≤‡∏Å 3
                    </div>
                    <div class="text-8xl mb-6 animate-float">${s.icon}</div>
                    <h2 class="text-3xl font-black mb-4 text-slate-900">${s.title}</h2>
                    <p class="text-xl text-slate-500 italic font-medium leading-relaxed px-4">"${s.desc}"</p>
                    
                    <div class="my-10 p-8 bg-indigo-600 rounded-[2rem] text-white shadow-2xl shadow-indigo-200">
                        <p class="text-indigo-200 text-xs font-bold uppercase mb-4 tracking-widest">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î</p>
                        <p class="text-2xl font-black italic">"‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ... ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?"</p>
                    </div>

                    <button onclick="state.currentRound++; renderScenario()" class="btn-primary w-full bg-indigo-600 text-white font-black py-5 rounded-2xl text-lg transform active:scale-95">
                        ${state.currentRound < 2 ? '‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ñ‡∏±‡∏î‡πÑ‡∏õ' : '‡∏™‡∏£‡∏∏‡∏õ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô'}
                    </button>
                </div>
            `;
            window.scrollTo(0,0);
        }

        function renderFinish() {
            appContainer.innerHTML = `
                <div class="glass rounded-[3rem] p-10 text-center animate-fade-up">
                    <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-4xl mx-auto mb-6 animate-float">üèÅ</div>
                    <h2 class="text-4xl font-black mb-4 text-slate-900">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</h2>
                    <p class="text-slate-500 mb-10">"‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"</p>
                    
                    <div class="text-left space-y-4 mb-10">
                        <div class="p-6 bg-white/50 rounded-3xl border border-white">
                            <h4 class="font-black text-indigo-600 mb-2">‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô:</h4>
                            <p class="text-sm text-slate-600 leading-relaxed">
                                ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏ó‡πà‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤‡πÜ ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÑ‡∏õ‡πÑ‡∏î‡πâ
                            </p>
                        </div>
                    </div>

                    <button onclick="location.reload()" class="btn-primary w-full bg-indigo-600 text-white font-black py-5 rounded-2xl shadow-xl shadow-indigo-100 transform active:scale-95">
                        üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                    </button>
                </div>
            `;
            window.scrollTo(0,0);
        }

        renderSetup();
    </script>
</body>
</html>
